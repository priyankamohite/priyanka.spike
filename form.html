<!doctype html>
<html>
	<head>
		<meta charset='utf-8'>
		 <link rel="stylesheet" type="text/css" href="style.css">
		<script type="text/javascript" src="jquery-1.8.1.min.js"></script>
	</head>
	<body>
		<form id="registerationform" action="http://blooming-beach-2334.herokuapp.com/users.json" method:="post" enctype="application/json">
			<table>
				<caption id="captionname">Registeration Form</caption>
				<tr>
					<td>Enter your name</td><td><input type="text" id="name" name="name"/></td>
				</tr>
				<tr>
					<td>Enter your age</td><td><input type="number" id="age" name="age"/></td>
					<td id="age_error" style="display:none">*Please enter valid age...</td>
				</tr>
				<tr>
					<td>
					Select your gender</td><td><input type="radio" name="gender" value="male" id="gender"/>Male
									        	<input type="radio" name="gender" value="female" id="gender"/>Female</td>
				</tr>
				<tr>
					<td>Enter your email-id</td><td><input type="text" name="email_id" id="email_id"/></td>
					<td id="email_error" style="display:none">*Please enter valid email-id...</td>
				</tr>
				<tr>
					<td>Enter your address</td><td><textarea rows="2" cols="20" name="address" id="address"></textarea></td>
				</tr>
				<tr>
					<td>Enter your pincode</td><td><input type="number" id="pincode" name="pincode"/></td>
					<td id="pincode_error" style="display:none">*Please enter valid pincode...</td>
				</tr>
				<tr>
					<td>You can add more description here</td><td><input type="text" id="description" name="description"/></td>
				</tr>
				<tr>
					<td></td>
					<td id="error" style="display:none">*Please fill all the fields...</td>
				</tr>
				<tr>
					<td></td>
					<td><input type="submit" value="Submit" id="submitbutton" name="submit"/></td>
					
				</tr>
				
					
			</table>
		</form>
		<form id="registerationform1" action="http://blooming-beach-2334.herokuapp.com/users.json" method:="get" enctype="application/json">
			<input type="submit" value="show all registered users" id="getusers" name="getusers"/>
		</form>
		<script type="text/javascript">
			$(document).ready(function(){
				$("#registerationform").submit(function(event){
					event.preventDefault();

					name=$("#name").val();
					age=$("#age").val();
					gender=$("#gender").val();
					email_id=$("#email_id").val();
					address=$("#address").val();
					pincode=$("#pincode").val();
					description=$("#description").val();
					var emailPattern = /^\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b$/i;
					var numericPattern = /^\d*[0-9](|.\d*[0-9]|,\d*[0-9])?$/;

					//for required feild validation
					if(name==""||age==""||gender==""||address==""||pincode==""||description==""||email_id=="")
					{
						$("#error").show();
						//return false;
					}
					else
					{
						$("#error").hide();	
						//return true;
					}

					//email-id validation

						if(!emailPattern.test(email_id))
						{
							$("#email_error").show();
							//return false;
						}
						else
						{
							$("#email_error").hide();	
							//return true;
						}
					//pincode validation
					//pincode must not contain any character
    					if(!numericPattern.test(pincode) || pincode.length!=6)
    					{ 
    						$("#pincode_error").show();
    						//return false;
    					}
						else
						{
							$("#pincode_error").hide();
							//return true;
						}	


					//age validation
					//age must be number and positive
    					if(!numericPattern.test(age) || age<0 ) 
    					{
    						$("#age_error").show();
    						//return false;
    					}
						else
						{
							$("#age_error").hide();
							//return true;
						}	



						$('#registerationform').submit();

				});
			});
			
		</script>
	</body>
	
</html>
